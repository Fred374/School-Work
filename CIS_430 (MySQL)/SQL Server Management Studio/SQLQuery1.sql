USE COMPANY


create table employee(
FNAME	VARCHAR(25) not null,
MINIT	CHAR,
LNAME	VARCHAR(25) not null,
SSN	CHAR(9) not null,
BDATE	DATE,
ADDRESS	VARCHAR(50) not null,
SEX	CHAR not null,
SALARY	DECIMAL(18,2),
SUPERSSN	CHAR(9),
DNO	INT	NOT null,
CONSTRAINT PK_EMPLOYEE_SSN PRIMARY KEY (SSN)
)

create table department(
DNAME	VARCHAR(25) not null,
DNO	int not null,
MGRSSN	CHAR(9) not null,
MGRSTARTDATE	DATE,
CONSTRAINT PK_DEPARTMENT PRIMARY KEY (DNO)
)

create table dependents(
ESSN CHAR(9) not null,
DEPENDENT_NAME	VARCHAR(25) not null,
SEX	CHAR not null,
BDATE	DATE,
RELATIONSHIP	VARCHAR(25) not null,
CONSTRAINT PK_DEPENDENTS PRIMARY KEY (ESSN,DEPENDENT_NAME)
)

create table project(
PNAME	VARCHAR(25) not null,
PNO	int not null,
PLOCATION	VARCHAR(25) not null,
DNO	INT not null
CONSTRAINT PK_PROJECT PRIMARY KEY (PNO)
)

create table dept_locations(
DNO	int not null,
DLOCATION	VARCHAR(50) not null,
CONSTRAINT PK_DEPT_LOCATION PRIMARY KEY (DNO,DLOCATION)
)

create table works_on(
ESSN CHAR(9) not null,
PNO	int not null,
HOURS	int,
CONSTRAINT PK_WORKS_ON PRIMARY KEY (ESSN,PNO)
)


ALTER TABLE EMPLOYEE
	ADD CONSTRAINT FK_EMPLOYEE_DNO FOREIGN KEY (DNO)
		REFERENCES dbo.DEPARTMENT(DNO);
ALTER TABLE EMPLOYEE
	ADD CONSTRAINT FK_EMPLOYEE_SUPERSSN FOREIGN KEY (SUPERSSN)
		REFERENCES dbo.EMPLOYEE(SSN);
ALTER TABLE DEPT_LOCATIONS
	ADD CONSTRAINT FK_DEPARTMENT_LOCATIONS_DNO FOREIGN KEY (DNO)
		REFERENCES dbo.DEPARTMENT(DNO);
ALTER TABLE PROJECT
	ADD CONSTRAINT FK_PROJECT_DNO FOREIGN KEY (DNO)
		REFERENCES dbo.DEPARTMENT(DNO);
ALTER TABLE WORKS_ON
	ADD CONSTRAINT FK_WORKS_ON_PNO FOREIGN KEY (PNO)
		REFERENCES dbo.PROJECT(PNO);
ALTER TABLE WORKS_ON
	ADD CONSTRAINT FK_WORKS_ON_ESSN FOREIGN KEY (ESSN)
		REFERENCES dbo.EMPLOYEE(SSN);
ALTER TABLE DEPENDENTS
	ADD CONSTRAINT FK_DEPENEDENTS_ESSN FOREIGN KEY (ESSN)
		REFERENCES dbo.EMPLOYEE(SSN);


INSERT INTO DEPARTMENT VALUES('Headquarters', 1, '888665555', '19-Jun-71');
INSERT INTO DEPARTMENT VALUES('Administration', 4, '987654321', '01-Jan-85');
INSERT INTO DEPARTMENT VALUES('Research', 5, '333445555', '22-May-78');
INSERT INTO DEPARTMENT VALUES('Automation', 7, '123456789', '06-Oct-05');

INSERT INTO EMPLOYEE VALUES('James', 'E', 'Borg', '888665555', '10-Nov-1927', '975 Fire Oak, Humble, TX', 'M', 55000, NULL, 1);
INSERT INTO EMPLOYEE VALUES('Jennifer', 'S', 'Wallace', '987654321', '20-Jun-1931', '291 Berry, Bellaire, TX', 'F', 43000, '888665555', 4);
INSERT INTO EMPLOYEE VALUES('Franklin', 'T', 'Wong', '333445555', '08-Dec-1945', '638 Voss, Houston, TX', 'M', 40000, '888665555', 5);
INSERT INTO EMPLOYEE VALUES('John', 'B', 'Smith', '123456789', '9-Jan-1955', '731 Fondren, Houston, TX', 'M', 30000, '987654321', 5);
INSERT INTO EMPLOYEE VALUES('Ahmad', 'V', 'Jabbar', '987987987', '29-Mar-1959', '980 Dallas, Houston, TX', 'M', 25000, '987654321', 4);
INSERT INTO EMPLOYEE VALUES('Alicia', 'J', 'Zelaya', '999887777', '19-Jul-1958', '3321 Castle, SPrig, TX', 'F', 25000, '987654321', 4);
INSERT INTO EMPLOYEE VALUES('Ramash', 'K', 'Narayan', '666884444', '15-Sep-1952', '975 Fire Oak, Humble, TX', 'M', 38000, '333445555', 5);
INSERT INTO EMPLOYEE VALUES('Joyce', 'A', 'English', '453453453', '21-Jul-1962', '5631 Rice, Houston, TX', 'M', 30000, '333445555', 5);
INSERT INTO EMPLOYEE VALUES('Frederick', 'F', 'Kelemen', '123456788', '18-May-1999', '2200 Prospect, Cleveland, OH', 'M', 50000, '888665555', 1);
INSERT INTO EMPLOYEE VALUES('John', '', 'Doe', '111223333', '10-Nov-1927', '975 Fire Oak, Humble, TX', 'M', 55000, NULL, 1);

ALTER TABLE DEPARTMENT
	ADD CONSTRAINT FK_MGRSSN FOREIGN KEY (MGRSSN)
		REFERENCES dbo.EMPLOYEE(SSN);

INSERT INTO DEPENDENTS VALUES('123456789','Alice','F','31-Dec-78','Daughter');
INSERT INTO DEPENDENTS VALUES('123456789','Elizabeth','F','05-May-57','Spouse');
INSERT INTO DEPENDENTS VALUES('123456789','Michael','M','01-Jan-78','Son');
INSERT INTO DEPENDENTS VALUES('333445555','Alice','F','05-Apr-76','Daughter');
INSERT INTO DEPENDENTS VALUES('333445555','Joy','F','03-May-48','Spouse');
INSERT INTO DEPENDENTS VALUES('333445555','Theodore','M','25-Oct-73','Son');
INSERT INTO DEPENDENTS VALUES('987654321','Abner','M','29-Feb-32','Spouse');
INSERT INTO DEPENDENTS VALUES('987654321','Erica','F','09-Apr-20','Daughter');
INSERT INTO DEPENDENTS VALUES('453453453','Joe','M','20-Jul-62','Spouse');

INSERT INTO PROJECT VALUES('ProductX',1,'Bellaire',5);
INSERT INTO PROJECT VALUES('ProductY',2,'Sugarland',5);
INSERT INTO PROJECT VALUES('ProductZ',3,'Houston',5);
INSERT INTO PROJECT VALUES('Computerization',10,'Stafford',4);
INSERT INTO PROJECT VALUES('Reorginization',20,'Houston',1);
INSERT INTO PROJECT VALUES('Newbenefits',30,'Stafford',4)

INSERT INTO WORKS_ON VALUES('123456789',1,32.5);
INSERT INTO WORKS_ON VALUES('123456789',2,7.5);
INSERT INTO WORKS_ON VALUES('333445555',2,10);
INSERT INTO WORKS_ON VALUES('333445555',3,10);
INSERT INTO WORKS_ON VALUES('333445555',10,10);
INSERT INTO WORKS_ON VALUES('333445555',20,10);
INSERT INTO WORKS_ON VALUES('453453453',1,20);
INSERT INTO WORKS_ON VALUES('453453453',2,20);
INSERT INTO WORKS_ON VALUES('666884444',3,40);
INSERT INTO WORKS_ON VALUES('888665555',20,NULL);
INSERT INTO WORKS_ON VALUES('987654321',20,15);
INSERT INTO WORKS_ON VALUES('987654321',30,20);
INSERT INTO WORKS_ON VALUES('987987987',10,35);
INSERT INTO WORKS_ON VALUES('987987987',30,5);
INSERT INTO WORKS_ON VALUES('999887777',10,10);
INSERT INTO WORKS_ON VALUES('999887777',30,30);
INSERT INTO WORKS_ON VALUES('123456788',10,40);
INSERT INTO WORKS_ON VALUES('987654321',10,0);

INSERT INTO DEPT_LOCATIONS VALUES(1,'Houston');
INSERT INTO DEPT_LOCATIONS VALUES(4,'Stafford');
INSERT INTO DEPT_LOCATIONS VALUES(5,'Bellaire');
INSERT INTO DEPT_LOCATIONS VALUES(5,'Sugarland');
INSERT INTO DEPT_LOCATIONS VALUES(5,'Houston');